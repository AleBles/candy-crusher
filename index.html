<html>
<head>
    <title>
        Space Bacon Destroyer!
    </title>
    <link rel="stylesheet" type="text/css" href="css/style.css"/>

    <script type="text/javascript" src="js/lib/pixi.js"></script>
</head>
<body>
    <script>
        var w = 320,
            h = 480,
            renderer = PIXI.autoDetectRenderer(w, h),
            stage = new PIXI.Stage(0x000000),
            bg = new PIXI.DisplayObjectContainer(),
            fg = new PIXI.DisplayObjectContainer(),
            r = function (m) {
                return Math.random() * m + 1;
            };

        document.body.appendChild(renderer.view);
        stage.addChild(bg);
        stage.addChild(fg);

        var star = new PIXI.Graphics();
        star.beginFill(0xFFFFFF);
        bg.addChild(star);

        for(var i = 0; i < 300; i++) {
            var s;
            if (i < 200) {
                s = 1;
            } else if (i < 275) {
                s = 2;
            } else {
                s = 3;
            }
            star.fillAlpha = Number(Math.random().toFixed(1));
            star.drawCircle(r(w), r(h), s);
        }

        var planet = new PIXI.Graphics();
        planet.beginFill(0x0EBFE9);
        fg.addChild(planet);
        planet.drawCircle(310, 10, 50);

        planet.beginFill(0x949494);
        planet.drawCircle(160, 600, 400);

        requestAnimFrame( animate );

        function animate() {
            requestAnimFrame( animate );

            // render the stage
            renderer.render(stage);
        }

    </script>
<div id="container"></div>
</body>
</html>
